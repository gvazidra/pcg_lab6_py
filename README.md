### **Сопроводительная документация к проекту "3D Wireframe Viewer"**

---

## **Содержание**
1. [Описание проекта](#описание-проекта)
2. [Руководство для пользователя](#руководство-для-пользователя)
3. [Руководство для программиста](#руководство-для-программиста)

---

## **Описание проекта**

Проект представляет собой **визуализатор 3D каркасных моделей** с возможностью управления вращением, перемещением и масштабированием объектов. Также предусмотрена возможность сохранения проекций модели (видов спереди, сбоку, сверху). Визуализация выполняется с использованием библиотеки **PyQt5** для создания графического интерфейса и **OpenGL** для рендеринга 3D объектов.

Основной объект, отображаемый в проекте, — это 3D-модель, представляющая собой набор точек (вершин) и соединяющих их рёбер (отрезков). Управление моделью осуществляется через интерфейс с помощью ползунков для изменения углов вращения, положения и масштаба, а также колесика мыши для изменения дистанции камеры.

---

## **Руководство для пользователя**

### **1. Основные возможности**

- **Просмотр 3D модели**: На экране отображается 3D модель, представлена каркасная сетка, которая может быть изменена пользователем с помощью ползунков для вращения, перемещения и масштабирования.
  
- **Управление моделью**:
  - **Вращение**: Используйте ползунки для изменения углов вращения модели вокруг осей X, Y и Z.
  - **Перемещение**: Используйте ползунки для перемещения модели вдоль осей X, Y и Z.
  - **Масштабирование**: Используйте ползунок для изменения масштаба модели.
  
- **Сохранение проекций**: Программа позволяет сохранять несколько видов модели в виде изображений. Проекции сохраняются в формате PNG для видов "спереди", "сбоку" и "сверху".
  
- **Дополнительное управление**:
  - **Колесико мыши**: Изменяет дистанцию камеры от модели, что позволяет приближать и отдалять её.
  
### **2. Управление интерфейсом**

- **Ползунки**:
  - Ползунки для вращения, перемещения и масштабирования позволяют вам настраивать модель.
  - При изменении положения ползунков, модель будет автоматически обновляться.
  
- **Кнопка "Сохранить проекции"**:
  - С помощью этой кнопки можно сохранить три вида модели (спереди, сбоку и сверху) в формате PNG.

### **3. Визуальные элементы**
- **3D модель**: Отображает каркасную модель из точек и рёбер.
- **Оси координат**: На экране отображаются оси X (красная), Y (зелёная) и Z (синяя), чтобы помочь ориентироваться в пространстве.
- **Интерфейс управления**: Панель с ползунками и кнопками для управления моделью.

---

## **Руководство для программиста**

### **1. Структура проекта**
Проект состоит из двух основных классов:
- **`WireframeViewer`** – компонент для рендеринга 3D модели с использованием OpenGL.
- **`MainWindow`** – главное окно с интерфейсом управления и отображения.

Проект использует **PyQt5** для создания графического интерфейса и **OpenGL** для рендеринга 3D объектов.

#### Основные файлы:
- **`main.py`** – основной исполнимый файл, где инициализируется и запускается приложение.
  
### **2. Основные компоненты**

#### **2.1. `WireframeViewer` — компонент для рендеринга 3D модели**
`WireframeViewer` является виджетом, наследующим от `QOpenGLWidget`, и предназначен для отображения 3D модели с использованием OpenGL.

##### **Инициализация**
Конструктор инициализирует начальные параметры (положение камеры, углы вращения и т.д.). Он также загружает вершины и рёбра для отображения модели.
```python
self.vertices = np.array([...])  # Задание вершин
self.edges = np.array([...])     # Задание рёбер
```

##### **Графика**
Рендеринг происходит в методе `paintGL()`, где сначала очищается экран и затем рисуется модель и оси координат.
```python
def paintGL(self):
    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT)
    self.draw_axes()
    self.draw_figure()
```

##### **Преобразования**
- Вращение, перемещение и масштабирование выполняются с помощью матриц преобразования, которые вычисляются в методах `get_rotation_matrix()` и `get_scale_matrix()`.
```python
def get_rotation_matrix(self):
    # Вычисление матрицы вращения для осей X, Y, Z
```

##### **Обработка ввода**
Для изменения положения камеры или модели используются методы `set_rotation()`, `set_position()` и `set_scale()`, которые вызываются из интерфейса.
```python
def set_rotation(self, axis, value):
    if axis == 'x':
        self.xRot = value
```

#### **2.2. `MainWindow` — главное окно**
`MainWindow` содержит панель управления для взаимодействия с пользователем и отображает виджет `WireframeViewer`.

##### **Интерфейс**
Все элементы управления (ползунки и кнопки) организованы в различные группы с использованием `QGroupBox` и `QVBoxLayout` для вертикального размещения.
```python
rotation_group = self.create_slider_group("Вращение", [...])
position_group = self.create_slider_group("Перемещение", [...])
```

##### **Создание ползунков**
Для каждого из ползунков создаётся слот, который обновляет состояние `WireframeViewer`:
```python
def create_slider_group(self, title, sliders_info, slot):
    # Создание ползунков для каждой оси (X, Y, Z)
```

#### **2.3. Сохранение проекций**
Метод `save_projection()` сохраняет изображение текущей проекции модели. Это выполняется с помощью `grabFramebuffer()` для захвата изображения с OpenGL.
```python
def save_projection(self, filename, rot_x, rot_y):
    image = self.grabFramebuffer()
    image.save(filename)
```

---

### **3. Взаимодействие с пользователем**

- **Поле ввода** — используется для отображения матрицы преобразования, которая обновляется каждый раз, когда пользователь изменяет параметры вращения, перемещения или масштаба.
- **Ползунки** — для изменения углов вращения, положения и масштаба.
- **Кнопка "Сохранить проекции"** — сохраняет три проекции модели в PNG.
  
Для реализации интерфейса с ползунками используется библиотека `PyQt5.QtWidgets.QSlider`, которая позволяет пользователю интуитивно управлять различными аспектами модели.

---

### **4. Примечания для разработчиков**
- **Оптимизация**: Для повышения производительности, можно добавить кэширование вычисленных матриц преобразования, чтобы избежать повторных вычислений.
- **Масштабирование**: Модуль масштабирования может быть улучшен с помощью более сложных трансформаций для поддержки масштабов, включая отрицательные и дробные значения.

---

### **Скачать exe**
https://drive.google.com/drive/folders/1JfATmJvh15ieqNzbSwsGjBfl4cBUu69J

---
